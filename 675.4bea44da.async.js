"use strict";(self.webpackChunkanima=self.webpackChunkanima||[]).push([[675],{99521:function(K,T,e){e.r(T);var A=e(97857),v=e.n(A),R=e(5574),l=e.n(R),g=e(67294),f=e(52259),m=e(96486),n=e.n(m),U=e(92077),b=e.n(U),d=e(85893),M="-",i=[{resource:"cargo_core-m1-read::CarryMapper:select(int,List)",qps:947,time1:5682,time10:947,id:68187,source:"cargo-core",type:"DB",clusterLevel:1},{resource:"cargo_core-m1-write::CargoExtMapper:selectCargo(QueryExtByIdRequest)",qps:52,time1:312,time10:52,id:63752,source:"cargo",type:"Catch",clusterLevel:3},{resource:"cargo_core-m1-write::CargoBaseMapper:selectCargo(QueryByIdRequest)",qps:52,time1:536,time10:79,id:69731,source:"cargo",type:"DB",clusterLevel:2}],_=[{value:1,label:"P1"},{value:2,label:"P2"},{value:3,label:"P3"}];T.default=function(){var I=(0,g.useState)(),h=l()(I,2),a=h[0],D=h[1],r={align:"right",editable:{type:f.Pf.NUMBER,min:1,max:9999999,precision:0},render:function(t){return n().isNil(t)?M:b()(t).format("0,0")}},E=[{title:"\u7C7B\u578B",dataIndex:"type"},{title:"\u96C6\u7FA4\u540D",dataIndex:"source",editable:!0},{title:"\u96C6\u7FA4\u7B49\u7EA7",dataIndex:"clusterLevel",render:function(t){var j;return(j=_.find(function(C){var o=C.value;return o===t}))===null||j===void 0?void 0:j.label},editable:{type:f.Pf.SELECT,options:_}},{title:"\u8D44\u6E90\u540D",dataIndex:"resource",editable:{type:f.Pf.INPUT,style:{width:"100%"}}},{title:"QPS\u7A97\u53E3",editable:!0,children:[v()({title:"1s",dataIndex:"time1"},r),v()({title:"10s",dataIndex:"time10"},r)]}],P=function(t){D(t)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.r8,{bordered:!0,size:"small",pagination:!1,rowKey:"id",dataSource:i,columns:E,onEditedRow:P}),(0,d.jsxs)("div",{style:{marginTop:"10px"},children:["\u7F16\u8F91\u7684\u5355\u5143\u683C: ",JSON.stringify(a==null?void 0:a.editedCell),(0,d.jsx)("br",{}),"\u7F16\u8F91\u7684\u884C: ",JSON.stringify(a==null?void 0:a.editedRow),(0,d.jsx)("br",{}),"\u7F16\u8F91\u7684\u8868\u683C\u6570\u636E: ",JSON.stringify(a==null?void 0:a.editedData),(0,d.jsx)("br",{})]})]})}},75520:function(K,T,e){e.r(T),e.d(T,{timeFormatterByPeriod:function(){return d}});var A=e(5574),v=e.n(A),R=e(67294),l=e(52259),g=e(30381),f=e.n(g),m=e(67036),n=e(85893),U=[{id:68127,source:"cargo-core",createTime:1663878765e3,ignoreTimeRange:[1660226412e3,1663312812e3],ignoreTimeRangeWeek:[1660226412e3,1663312812e3],handleTime:166384583e4,createTimeMonth:166384583e4},{id:64752,source:"cargo",createTime:1660369152e3,ignoreTimeRange:[1663316535e3,1663542754e3],ignoreTimeRangeWeek:[1663316535e3,1663542754e3],handleTime:1663935621e3,createTimeMonth:1660369152e3},{id:65739,source:"cargo-publish",createTime:1663226412e3,ignoreTimeRange:[162362073e4,164384583e4],ignoreTimeRangeWeek:[162362073e4,164384583e4],handleTime:1665289401e3,createTimeMonth:166384583e4}];function b(M){return M<10?"0".concat(M):M}function d(M,i){if(!(0,m.sC)(M))return m.og;var _=Number(M),I=f()(_).year(),h=f()(_).month()+1;h=b(h);var a=f()(_).week();a=b(a);var D={year:"".concat(I,"\u5E74"),month:"".concat(I,"-").concat(h),week:"".concat(I,"-").concat(a,"\u5468")}[i]||"";return D}T.default=function(){var M=(0,R.useState)(),i=v()(M,2),_=i[0],I=i[1],h=[{title:"\u96C6\u7FA4\u540D",dataIndex:"source"},{title:"\u53D1\u751F\u65F6\u95F4",dataIndex:"createTime",editable:{type:l.Pf.DATE},render:function(r){return(0,m.g6)(r,m.zt.DATE)}},{title:"\u53D1\u751F\u65F6\u95F4\u6708",dataIndex:"createTimeMonth",editable:{type:l.Pf.DATE,picker:"month"},render:function(r){return d(r,"month")}},{title:"\u5FFD\u7565\u65F6\u95F4\u6BB5",dataIndex:"ignoreTimeRange",editable:{type:l.Pf.DATE_RANGE,showTime:!0,style:{width:370}},render:function(r){return"".concat((0,m.g6)(r[0])," ~ ").concat((0,m.g6)(r[1]))}},{title:"\u5FFD\u7565\u65F6\u95F4\u6BB5\u5468",dataIndex:"ignoreTimeRangeWeek",editable:{type:l.Pf.DATE_RANGE,picker:"week",style:{width:370}},render:function(r){return"".concat(d(r[0],"week")," ~ ").concat(d(r[1],"week"))}},{title:"\u5904\u7406\u65F6\u95F4",dataIndex:"handleTime",editable:{type:l.Pf.DATE,showTime:!0,style:{width:185}},render:function(r){return(0,m.g6)(r)}}],a=function(r){I(r)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.r8,{bordered:!0,size:"small",pagination:!1,rowKey:"id",dataSource:U,columns:h,onEditedRow:a}),(0,n.jsxs)("div",{style:{marginTop:"10px"},children:["\u7F16\u8F91\u7684\u5355\u5143\u683C: ",JSON.stringify(_==null?void 0:_.editedCell),(0,n.jsx)("br",{}),"\u7F16\u8F91\u7684\u884C: ",JSON.stringify(_==null?void 0:_.editedRow),(0,n.jsx)("br",{}),"\u7F16\u8F91\u7684\u8868\u683C\u6570\u636E: ",JSON.stringify(_==null?void 0:_.editedData),(0,n.jsx)("br",{})]})]})}},56546:function(K,T,e){e.r(T);var A=e(15009),v=e.n(A),R=e(99289),l=e.n(R),g=e(5574),f=e.n(g),m=e(67294),n=e(96486),U=e.n(n),b=e(52259),d=e(67036),M=e(27790),i=e(85893),_=[{id:9,businessTagCode:"code1",businessTag:"\u6D4B\u8BD5\u6807\u7B7E1",operateTime:1672993932e3,operateUser:"\u6E05\u534E"},{id:8,businessTagCode:"code2",businessTag:"\u6D4B\u8BD5\u6807\u7B7E2",operateTime:1672993809e3,operateUser:"\u4E3D\u96E8"},{id:7,businessTagCode:"code3",businessTag:"\u6D4B\u8BD5\u6807\u7B7E3",operateTime:1672993809e3,operateUser:"\u9F99\u73B2"}];T.default=function(){var I=(0,m.useState)(),h=f()(I,2),a=h[0],D=h[1],r=[{title:"\u6807\u7B7Ecode",dataIndex:"businessTagCode",addable:{type:b.Pf.INPUT,style:{width:"100%"}}},{title:"\u6807\u7B7E\u540D\u79F0",dataIndex:"businessTag",addable:{type:b.Pf.INPUT,style:{width:"100%"}},editable:{type:b.Pf.INPUT,style:{width:"100%"}}},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"operateUser",width:100},{title:"\u64CD\u4F5C\u65F6\u95F4",dataIndex:"operateTime",width:180,render:function(P){return U().isNumber(P)?(0,d.g6)(P,d.zt.DATETIME):P}}];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.r8,{rowKey:"id",size:"small",hasRemove:!0,columns:r,dataSource:_,onEditedRow:function(){var E=l()(v()().mark(function P(p,t){return v()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,t==null?void 0:t.validateFields();case 2:D(p);case 3:case"end":return C.stop()}},P)}));return function(P,p){return E.apply(this,arguments)}}(),pagination:!1,scroll:{y:400},remove:{onBeforeRemoveCallback:function(){var E=l()(v()().mark(function p(t,j){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(!j&&t.id===8)){o.next=3;break}return M.ZP.info("\u8BE5\u6761\u4FE1\u606F\u4E0D\u53EF\u4EE5\u5220\u9664\u54E6~"),o.abrupt("return",!1);case 3:return o.abrupt("return",!0);case 4:case"end":return o.stop()}},p)}));function P(p,t){return E.apply(this,arguments)}return P}(),onRemoveCallback:function(P){D(P)}},add:{text:"\u6DFB\u52A0\u6807\u7B7E",colSpan:5,position:"bottom"},maxLength:5}),(0,i.jsxs)("div",{style:{marginTop:"10px"},children:["\u7F16\u8F91\u7684\u5355\u5143\u683C: ",JSON.stringify(a==null?void 0:a.editedCell),(0,i.jsx)("br",{}),"\u7F16\u8F91\u7684\u884C: ",JSON.stringify(a==null?void 0:a.editedRow),(0,i.jsx)("br",{}),"\u7F16\u8F91\u7684\u8868\u683C\u6570\u636E: ",JSON.stringify(a==null?void 0:a.editedData),(0,i.jsx)("br",{})]})]})}},407:function(K,T,e){e.r(T),e.d(T,{BusinessTagHandleType:function(){return t}});var A=e(15009),v=e.n(A),R=e(99289),l=e.n(R),g=e(19632),f=e.n(g),m=e(97857),n=e.n(m),U=e(5574),b=e.n(U),d=e(67294),M=e(96486),i=e.n(M),_=e(71577),I=e(4596),h=e(86738),a=e(52259),D=e(67036),r=e(27790),E=e(85893),P=[{id:9,businessTagCode:"code1",businessTag:"\u6D4B\u8BD5\u6807\u7B7E1",operateTime:1672993932e3,operateUser:"\u6E05\u534E"},{id:8,businessTagCode:"code2",businessTag:"\u6D4B\u8BD5\u6807\u7B7E2",operateTime:1672993809e3,operateUser:"\u4E3D\u96E8"},{id:7,businessTagCode:"code3",businessTag:"\u6D4B\u8BD5\u6807\u7B7E3",operateTime:1672993809e3,operateUser:"\u9F99\u73B2"}],p=[{title:"\u6807\u7B7Ecode",dataIndex:"businessTagCode",addable:{type:a.Pf.INPUT,style:{width:"100%"}}},{title:"\u6807\u7B7E\u540D\u79F0",dataIndex:"businessTag",addable:{type:a.Pf.INPUT,style:{width:"100%"}},editable:{type:a.Pf.INPUT,style:{width:"100%"}}},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"operateUser",width:100},{title:"\u64CD\u4F5C\u65F6\u95F4",dataIndex:"operateTime",width:180,render:function(o){return i().isNumber(o)?(0,D.g6)(o,D.zt.DATETIME):o}}],t={ADD:0,EDIT:1,REMOVE:2};function j(C){var o;return((o=String(C))===null||o===void 0?void 0:o.indexOf("add"))>=0}T.default=function(){var C=(0,d.useState)([]),o=b()(C,2),x=o[0],w=o[1],Z=(0,d.useState)(!1),Y=b()(Z,2),z=Y[0],$=Y[1],Q=(0,d.useState)(P),H=b()(Q,2),W=H[0],S=H[1],N=function(u,y){var c=t.REMOVE===y?{id:u==null?void 0:u.id}:u,s=n()({handleType:y},c);w(function(L){var O=L.filter(function(F){var V=F.id;return s.id!==V}),k=t.REMOVE===s.handleType&&j(s.id),q=i().isEqual(c,W==null?void 0:W.find(function(F){var V=F.id;return V===c.id}));return k||q?O:[].concat(f()(O),[s])})},J=function(u){$(u)},G=function(){J(!1),w([])},X=function(){x.forEach(function(u){if(t.REMOVE===u.handleType&&S(function(c){return c.filter(function(s){var L=s.id;return L!==u.id})}),t.EDIT===u.handleType&&S(function(c){return c.map(function(s){return s.id===u.id?n()(n()({},s),i().omit(u,"handleType")):s})}),t.ADD===u.handleType){var y=i().omit(n()(n()({},u),{},{id:parseInt(String(Math.random()*100),10)}),"handleType");S(function(c){return[y].concat(f()(c))})}}),G()};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(_.ZP,{type:"primary",onClick:function(){return J(!0)},children:"\u6807\u7B7E\u7EF4\u62A4"}),z&&(0,E.jsx)(I.Z,{centered:!0,title:"\u4E1A\u52A1\u6807\u7B7E",visible:z,onCancel:G,width:1e3,footer:[(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(h.Z,{title:"\u786E\u8BA4\u63D0\u4EA4\u6539\u52A8\uFF1F",onConfirm:X,disabled:!x.length,okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,E.jsx)(_.ZP,{type:"primary",disabled:!x.length,children:"\u786E\u8BA4\u4FEE\u6539"})},"submit")})],children:(0,E.jsx)(a.r8,{rowKey:"id",size:"small",hasRemove:!0,showEditedRow:!0,columns:p,dataSource:W,onEditedRow:function(){var B=l()(v()().mark(function u(y,c){var s;return v()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return s=y.editedRow,O.next=3,c==null?void 0:c.validateFields().then(function(){N(s,j(s==null?void 0:s.id)?t.ADD:t.EDIT)}).catch(function(){N(s,t.REMOVE)});case 3:case"end":return O.stop()}},u)}));return function(u,y){return B.apply(this,arguments)}}(),pagination:!1,scroll:{y:400},remove:{onBeforeRemoveCallback:function(){var B=l()(v()().mark(function y(c,s){return v()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(!s&&c.id===8)){O.next=3;break}return r.ZP.info("\u8BE5\u6761\u4FE1\u606F\u4E0D\u53EF\u4EE5\u5220\u9664\u54E6~"),O.abrupt("return",!1);case 3:return N(c,t.REMOVE),O.abrupt("return",!0);case 5:case"end":return O.stop()}},y)}));function u(y,c){return B.apply(this,arguments)}return u}()},add:{text:"\u6DFB\u52A0\u6807\u7B7E",colSpan:5,position:"top"}})})]})}},67036:function(K,T,e){e.d(T,{g6:function(){return f},og:function(){return l},sC:function(){return g},zt:function(){return R}});var A=e(30381),v=e.n(A),R={DATE:"YYYY-MM-DD",DATETIME:"YYYY-MM-DD HH:mm:ss",YEAR_MONTH:"YYYY-MM"},l="-",g=function(n){return Boolean(n)&&(typeof n=="number"||typeof n=="string")};function f(m){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R.DATETIME;return g(m)?v()(Number(m)).format(n):l}}}]);
